# Бизнес-процессы системы управления футбольными судьями

## Оглавление
1. [Общая архитектура](#общая-архитектура)
2. [Роли в системе](#роли-в-системе)
3. [Основные бизнес-процессы](#основные-бизнес-процессы)
   - [1. Назначение судейской бригады](#1-назначение-судейской-бригады)
   - [2. Организация командировки](#2-организация-командировки)
   - [3. Обработка протоколов матча](#3-обработка-протоколов-матча)
   - [4. Формирование и утверждение АВР](#4-формирование-и-утверждение-авр)
   - [5. Процесс оплаты](#5-процесс-оплаты)
4. [Автоматизация процессов](#автоматизация-процессов)
5. [Статусы и переходы](#статусы-и-переходы)

---

## Общая архитектура

Система управляет полным жизненным циклом футбольного матча с момента его создания до финальной оплаты работы судей. Процесс разделен на **6 основных категорий операций**:

1. **Назначение судей** (Referee Assignment)
2. **Командировка** (Business Trip)
3. **Протоколы матча** (Match Protocol)
4. **Акты выполненных работ - АВР** (AVR - Act of Work)
5. **Оплата** (Payment)
6. **Финальный результат** (Final Result)

Каждая категория содержит набор операций, которые выполняются последовательно. Операции связаны между собой отношениями:
- `next_id` - следующая операция при успешном выполнении
- `previous_id` - предыдущая операция
- `on_reject_id` - операция при отклонении (для операций с `can_reject = true`)

---

## Роли в системе

### Административные роли

| Роль | Константа | Описание |
|------|-----------|----------|
| **Администратор** | `administrator` | Полный доступ ко всем функциям системы |
| **Директор департамента судейства** | `refereeing_department_head` | Утверждает судейские бригады, командировки, АВР |
| **Директор финансового департамента** | `finance_department_head` | Контрольная финансовая проверка АВР |

### Операционные роли

| Роль | Константа | Описание |
|------|-----------|----------|
| **Сотрудник департамента судейства** | `refereeing_department_employee` | Назначает судей, оформляет АВР, утверждает протоколы |
| **Логист департамента судейства** | `refereeing_department_logistician` | Организует командировки судей |
| **Бухгалтер департамента судейства** | `refereeing_department_accountant` | Производит оплату судьям |
| **Экономист финансового департамента** | `finance_department_specialist` | Первичная финансовая проверка АВР |
| **Футбольный судья** | `soccer_referee` | Принимает назначения, подтверждает командировки, заполняет протоколы |

---

## Основные бизнес-процессы

### 1. Назначение судейской бригады

**Цель**: Сформировать и утвердить судейскую бригаду для проведения матча.

#### Операции:

##### 1.1. Матч создан, ожидание добавления судей
- **Value**: `match_created_waiting_referees`
- **Ответственные**: Сотрудник департамента судейства, Судья
- **Описание**: После создания матча сотрудник департамента назначает судей согласно требованиям матча (`judge_requirements`)
- **Действия**:
  - Создание записей в таблице `match_judges` для каждого требуемого судьи
  - Указание типа судьи (главный, помощник, инспектор и т.д.)
  - Отправка уведомлений судьям
- **Переход**: → `referee_team_approval`

##### 1.2. Утверждение судейской бригады
- **Value**: `referee_team_approval`
- **Ответственные**: Директор департамента судейства
- **Описание**: Директор проверяет и утверждает назначенную судейскую бригаду
- **Действия**:
  - Просмотр списка назначенных судей
  - Проверка соответствия требованиям
  - Утверждение (`final_status = 1` для всех `match_judges`)
- **Возможность отклонения**: Да → `referee_reassignment`
- **Автоматизация**: После утверждения всех судей (все `match_judges` имеют `judge_response = 1` и `final_status = 1`) система автоматически переходит к следующему этапу
- **Переход**: → `select_responsible_logisticians` или `select_transport_departure`

##### 1.3. Переназначение судей
- **Value**: `referee_reassignment`
- **Ответственные**: Сотрудник департамента судейства, Судья
- **Описание**: Изменение состава судейской бригады после отклонения
- **Переход**: → `referee_team_approval`

#### Автоматизация (MatchJudgeObserver):

```php
// При обновлении match_judges
if (все судьи приняли приглашение && количество судей == требуемому) {
    if (operation = match_created_waiting_referees) {
        → referee_team_approval
    }

    if (operation = referee_team_approval && все судьи утверждены) {
        if (есть логисты) {
            → select_transport_departure
        } else {
            → select_responsible_logisticians
        }
    }
}
```

---

### 2. Организация командировки

**Цель**: Организовать логистику поездки судей на матч (транспорт, проживание, питание).

#### Операции:

##### 2.1. Выбор ответственных логистов
- **Value**: `select_responsible_logisticians`
- **Ответственные**: Сотрудник департамента судейства
- **Описание**: Назначение логистов для организации командировки
- **Действия**:
  - Создание записей в `match_logists`
  - Назначение логиста для каждого судьи
- **Переход**: → `select_transport_departure`

##### 2.2. Выбор транспорта и точки отправления
- **Value**: `select_transport_departure`
- **Ответственные**: Футбольный судья
- **Описание**: Судья указывает предпочитаемый вид транспорта и город отправления
- **Действия**:
  - Для каждого судьи создается запись `Trip`
  - Судья выбирает `transport_type_id` (самолет, поезд, автомобиль)
  - Указывает `departure_city_id` (город отправления)
  - Указывает даты `departure_date` и `return_date`
- **Переход**: → `business_trip_plan_preparation` (автоматически, когда созданы Trip для всех судей)

##### 2.3. Оформление плана командировки
- **Value**: `business_trip_plan_preparation`
- **Ответственные**: Логист департамента судейства
- **Описание**: Логист детализирует план командировки
- **Действия**:
  - Бронирование транспорта (`trip_migrations` - билеты, маршруты)
  - Бронирование отеля (`trip_hotels` - отель, номер, даты)
  - Подготовка документов (`trip_documents` - командировочные удостоверения)
  - Заполнение поля `info` с дополнительной информацией
- **Переход**: → `referee_team_confirmation`

##### 2.4. Подтверждение судейной бригады
- **Value**: `referee_team_confirmation`
- **Ответственные**: Футбольный судья
- **Описание**: Судья проверяет и подтверждает план командировки
- **Действия**:
  - Просмотр деталей командировки (транспорт, отель)
  - Подтверждение: `judge_status = 1`
  - Возможность добавить комментарий: `judge_comment`
- **Возможность отклонения**: Да → `business_trip_plan_reprocessing`
- **Переход**: → `primary_business_trip_confirmation`

##### 2.5. Первичное подтверждение командировки
- **Value**: `primary_business_trip_confirmation`
- **Ответственные**: Сотрудник департамента судейства
- **Описание**: Сотрудник проверяет и подтверждает командировку
- **Действия**:
  - Проверка корректности данных
  - Подтверждение: `first_status = 1` для всех `trips`
  - Возможность добавить комментарий: `first_comment`
- **Возможность отклонения**: Да → `business_trip_plan_reprocessing`
- **Переход**: → `final_business_trip_confirmation`

##### 2.6. Финальное подтверждение командировки
- **Value**: `final_business_trip_confirmation`
- **Ответственные**: Директор департамента судейства
- **Описание**: Директор дает финальное утверждение командировки
- **Действия**:
  - Финальная проверка
  - Подтверждение: `final_status = 1` для всех `trips`
  - Возможность добавить комментарий: `final_comment`
- **Возможность отклонения**: Да → `business_trip_plan_reprocessing`
- **Переход**: → `business_trip_registration`

##### 2.7. Оформление командировки
- **Value**: `business_trip_registration`
- **Ответственные**: Логист департамента судейства
- **Описание**: Логист завершает оформление и выдает документы
- **Действия**:
  - Окончательное бронирование и оплата
  - Выдача командировочных документов
  - Подготовка служебных записок
- **Переход**: → `waiting_for_protocol` (после проведения матча)

##### 2.8. Переоформление плана командировки
- **Value**: `business_trip_plan_reprocessing`
- **Ответственные**: Логист департамента судейства
- **Описание**: Корректировка плана после отклонения
- **Переход**: → `referee_team_confirmation`

#### Статусы Trip:

| Поле | Значения | Описание |
|------|----------|----------|
| `judge_status` | 0 - не подтверждено<br>1 - подтверждено судьей | Подтверждение судьей |
| `first_status` | -1 - отклонено<br>0 - ожидает<br>1 - подтверждено | Первичное подтверждение сотрудником |
| `final_status` | -1 - отклонено<br>0 - ожидает<br>1 - подтверждено | Финальное подтверждение директором |

#### Автоматизация (TripObserver):

```php
// При создании Trip
if (количество trips == количеству match_judges) {
    → business_trip_plan_preparation
}

// При обновлении статусов Trip
if (все trips: judge_status=1, first_status=1, final_status=1) {
    → business_trip_registration
}
else if (все trips: judge_status=1, first_status=1, final_status in [0,-1]) {
    → final_business_trip_confirmation
}
else if (все trips: judge_status=1, first_status in [0,-1], final_status in [0,-1]) {
    → primary_business_trip_confirmation
}
else if (все trips: judge_status=0, first_status=0, final_status=0) {
    → referee_team_confirmation
}
```

---

### 3. Обработка протоколов матча

**Цель**: Судьи заполняют протоколы матча, которые проходят проверку и утверждение.

#### Операции:

##### 3.1. Ожидание протокола
- **Value**: `waiting_for_protocol`
- **Ответственные**: Футбольный судья
- **Описание**: После проведения матча судьи заполняют протоколы
- **Действия**:
  - Каждый судья создает записи `Protocol` согласно `protocol_requirements`
  - Загрузка файла протокола: `file_url`
  - Заполнение данных протокола
  - Установка `is_ready = true` для отправки на проверку
- **Переход**: → `primary_protocol_approval`

##### 3.2. Первичное утверждение протокола
- **Value**: `primary_protocol_approval`
- **Ответственные**: Сотрудник департамента судейства
- **Описание**: Сотрудник проверяет корректность заполнения протоколов
- **Действия**:
  - Проверка всех протоколов матча
  - Утверждение: `first_status = 1`
  - Возможность добавить комментарий: `primary_comment`
- **Возможность отклонения**: Да → `protocol_reprocessing`
- **Переход**: → `control_protocol_approval`

##### 3.3. Контрольное утверждение протокола
- **Value**: `control_protocol_approval`
- **Ответственные**: Директор департамента судейства
- **Описание**: Директор дает контрольное утверждение протоколов
- **Действия**:
  - Финальная проверка протоколов
  - Утверждение: `final_status = 1`
  - Возможность добавить комментарий: `final_comment`
- **Возможность отклонения**: Да → `protocol_reprocessing`
- **Переход**: → `avr_created_waiting_processing` (автоматически при утверждении всех протоколов)

##### 3.4. Переоформление протокола
- **Value**: `protocol_reprocessing`
- **Ответственные**: Футбольный судья
- **Описание**: Судья исправляет протокол согласно замечаниям
- **Переход**: → `primary_protocol_approval`

#### Статусы Protocol:

| Поле | Значения | Описание |
|------|----------|----------|
| `is_ready` | true/false | Протокол готов к проверке |
| `first_status` | 0 - ожидает<br>1 - утверждено | Первичное утверждение |
| `final_status` | 0 - ожидает<br>1 - утверждено | Финальное утверждение |

#### Автоматизация (ProtocolObserver):

```php
// При обновлении operation_id протокола
if (все протоколы в одной операции) {
    Обновить operation матча на соответствующую
}

// При утверждении протокола (final_status = 1)
if (все протоколы матча: final_status = 1) {
    → avr_created_waiting_processing
}
```

---

### 4. Формирование и утверждение АВР

**Цель**: Создать и утвердить Акты выполненных работ для оплаты работы судей.

#### Операции:

##### 4.1. АВР создан, ожидает оформления
- **Value**: `avr_created_waiting_processing`
- **Ответственные**: Сотрудник департамента судейства
- **Описание**: После утверждения всех протоколов автоматически создаются АВР для каждого судьи
- **Действия**:
  - Система создает записи `ActOfWork` для каждого судьи
  - Связь с протоколом: `protocol_id`
  - Связь с судьей: `judge_id`
- **Переход**: → `avr_processing`

##### 4.2. Оформление АВР
- **Value**: `avr_processing`
- **Ответственные**: Сотрудник департамента судейства
- **Описание**: Сотрудник заполняет детали АВР
- **Действия**:
  - Заполнение информации о заказчике: `customer_info`
  - Указание данных договора: `dogovor_number`, `dogovor_date`
  - Указание номера акта: `act_number`, `act_date`
  - Добавление услуг: `act_of_work_services` (вид работы, стоимость, НДС)
  - Подсчет итоговой суммы
  - Установка `is_ready = true`
  - Утверждение: `first_status = 1`
- **Переход**: → `referee_confirmation`

##### 4.3. Подтверждение судьи
- **Value**: `referee_confirmation`
- **Ответственные**: Футбольный судья
- **Описание**: Судья проверяет и подтверждает АВР
- **Действия**:
  - Проверка данных о работе
  - Проверка суммы оплаты
  - Подтверждение: `judge_status = 1`
  - Возможность добавить комментарий: `judge_comment`
- **Возможность отклонения**: Да → `avr_reprocessing`
- **Переход**: → `avr_approval_by_committee`

##### 4.4. Утверждение АВР судейским комитетом
- **Value**: `avr_approval_by_committee`
- **Ответственные**: Директор департамента судейства
- **Описание**: Директор утверждает АВР
- **Действия**:
  - Проверка корректности оформления
  - Утверждение: `control_status = 1`
  - Возможность добавить комментарий: `control_comment`
- **Возможность отклонения**: Да → `avr_reprocessing`
- **Переход**: → `primary_financial_check`

##### 4.5. Первичная финансовая проверка
- **Value**: `primary_financial_check`
- **Ответственные**: Экономист финансового департамента
- **Описание**: Экономист проверяет финансовую сторону АВР
- **Действия**:
  - Проверка сумм и расчетов
  - Проверка соответствия бюджету
  - Утверждение: `first_financial_status = 1`
  - Возможность добавить комментарий: `first_financial_comment`
- **Возможность отклонения**: Да → `avr_reprocessing`
- **Переход**: → `control_financial_check`

##### 4.6. Контрольная финансовая проверка
- **Value**: `control_financial_check`
- **Ответственные**: Директор финансового департамента
- **Описание**: Директор финансового департамента дает финальное утверждение
- **Действия**:
  - Контрольная проверка
  - Утверждение: `last_financial_status = 1`
  - Возможность добавить комментарий: `last_financial_comment`
- **Возможность отклонения**: Да → `avr_reprocessing`
- **Переход**: → `avr_confirmed_waiting_payment`

##### 4.7. Переоформление АВР
- **Value**: `avr_reprocessing`
- **Ответственные**: Сотрудник департамента судейства
- **Описание**: Корректировка АВР согласно замечаниям
- **Переход**: → `avr_processing`

#### Статусы ActOfWork:

| Поле | Значения | Описание |
|------|----------|----------|
| `first_status` | 0 - ожидает<br>1 - утверждено | Первичное оформление сотрудником |
| `judge_status` | 0 - ожидает<br>1 - утверждено | Подтверждение судьей |
| `control_status` | 0 - ожидает<br>1 - утверждено | Утверждение директором судейства |
| `first_financial_status` | 0 - ожидает<br>1 - утверждено | Первичная финансовая проверка |
| `last_financial_status` | 0 - ожидает<br>1 - утверждено | Контрольная финансовая проверка |
| `final_status` | 0 - ожидает<br>1 - утверждено | Финальное утверждение (для оплаты) |
| `is_ready` | true/false | АВР готов к проверке |

#### Автоматизация (ActOfWorkObserver):

```php
// При обновлении АВР проверяется состояние всех АВР матча
if (все АВР: first=1, judge=1, control=1, first_fin=1, last_fin=1, final=1) {
    → avr_confirmed_waiting_payment
}
else if (все АВР: first=1, judge=1, control=1, first_fin=1, last_fin=1) {
    → control_financial_check
}
else if (все АВР: first=1, judge=1, control=1, first_fin=1) {
    → primary_financial_check
}
else if (все АВР: first=1, judge=1, control=1) {
    → avr_approval_by_committee
}
else if (все АВР: first=1, judge=1) {
    → avr_approval_by_committee  // Дублирование для совместимости
}
else if (все АВР: first=1) {
    → avr_processing
}
```

---

### 5. Процесс оплаты

**Цель**: Провести оплату судьям за выполненную работу.

#### Операции:

##### 5.1. АВР подтвержден, ожидание оплаты
- **Value**: `avr_confirmed_waiting_payment`
- **Ответственные**: Бухгалтер департамента судейства
- **Описание**: После утверждения АВР создается задача на оплату
- **Действия**:
  - Для каждого АВР создается `ActOfPayment`
  - Бухгалтер проверяет банковские реквизиты судьи
  - Формирует платежное поручение
  - Производит оплату
  - Подтверждает оплату: `status = 'paid'`
  - Указывает дату оплаты
- **Переход**: → `payment_completed`

##### 5.2. Оплата произведена
- **Value**: `payment_completed`
- **Ответственные**: Бухгалтер департамента судейства
- **Описание**: Оплата завершена, документы закрыты
- **Переход**: → `successfully_completed`

#### Статусы ActOfPayment:

| Поле | Значения | Описание |
|------|----------|----------|
| `status` | pending - ожидает<br>paid - оплачено<br>rejected - отклонено | Статус оплаты |

---

### 6. Финальный результат

##### 6.1. Успешно завершен
- **Value**: `successfully_completed`
- **Ответственные**: -
- **Описание**: Процесс обработки матча полностью завершен
- **Характеристики**:
  - `is_last = true`
  - `result = 1` (успешно)
  - Финальное состояние процесса

---

## Автоматизация процессов

Система использует **Laravel Observers** для автоматического управления переходами между операциями:

### 1. MatchJudgeObserver
**Триггеры**: создание/обновление/удаление `MatchJudge`

**Логика**:
- Следит за ответами судей (`judge_response`) и их утверждением (`final_status`)
- Когда все судьи приняли назначение и количество судей соответствует требованиям:
  - Из `match_created_waiting_referees` → `referee_team_approval`
- Когда все судьи утверждены директором:
  - Если есть логисты → `select_transport_departure`
  - Если нет логистов → `select_responsible_logisticians`

### 2. TripObserver
**Триггеры**: создание/обновление/удаление `Trip`

**Логика**:
- Следит за статусами командировок всех судей
- Автоматически переключает операцию матча в зависимости от статусов всех командировок:
  - Все `judge_status=1, first_status=1, final_status=1` → `business_trip_registration`
  - Все `judge_status=1, first_status=1, final_status in [0,-1]` → `final_business_trip_confirmation`
  - Все `judge_status=1, first_status in [0,-1]` → `primary_business_trip_confirmation`
  - Все `judge_status=0` → `referee_team_confirmation`
- При создании всех Trip (количество = количеству судей) → `business_trip_plan_preparation`

### 3. ProtocolObserver
**Триггеры**: создание/обновление `Protocol`

**Логика**:
- Следит за изменением `operation_id` протоколов
- Когда все протоколы в одной операции, обновляет операцию матча
- Когда все протоколы утверждены (`final_status = 1`) → `avr_created_waiting_processing`

### 4. ActOfWorkObserver
**Триггеры**: создание/обновление `ActOfWork`

**Логика**:
- Следит за статусами всех АВР матча
- Последовательно переключает операции в зависимости от уровня утверждения:
  - Все `first=1` → `avr_processing`
  - Все `first=1, judge=1` → `avr_approval_by_committee`
  - Все `first=1, judge=1, control=1` → `avr_approval_by_committee`
  - Все `first=1, judge=1, control=1, first_fin=1` → `primary_financial_check`
  - Все `first=1, judge=1, control=1, first_fin=1, last_fin=1` → `control_financial_check`
  - Все `first=1, judge=1, control=1, first_fin=1, last_fin=1, final=1` → `avr_confirmed_waiting_payment`

---

## Статусы и переходы

### Общая схема переходов

```
1. Referee Assignment
   ├─ match_created_waiting_referees
   ├─ referee_team_approval ──[reject]──> referee_reassignment
   └─ referee_reassignment ─────────────> referee_team_approval

2. Business Trip
   ├─ select_responsible_logisticians
   ├─ select_transport_departure
   ├─ business_trip_plan_preparation
   ├─ referee_team_confirmation ──[reject]──> business_trip_plan_reprocessing
   ├─ primary_business_trip_confirmation ──[reject]──> business_trip_plan_reprocessing
   ├─ final_business_trip_confirmation ──[reject]──> business_trip_plan_reprocessing
   ├─ business_trip_registration
   └─ business_trip_plan_reprocessing ─────────────> referee_team_confirmation

3. Match Protocol
   ├─ waiting_for_protocol
   ├─ primary_protocol_approval ──[reject]──> protocol_reprocessing
   ├─ control_protocol_approval ──[reject]──> protocol_reprocessing
   └─ protocol_reprocessing ─────────────> primary_protocol_approval

4. AVR
   ├─ avr_created_waiting_processing
   ├─ avr_processing
   ├─ referee_confirmation ──[reject]──> avr_reprocessing
   ├─ avr_approval_by_committee ──[reject]──> avr_reprocessing
   ├─ primary_financial_check ──[reject]──> avr_reprocessing
   ├─ control_financial_check ──[reject]──> avr_reprocessing
   └─ avr_reprocessing ─────────────> avr_processing

5. Payment
   ├─ avr_confirmed_waiting_payment
   └─ payment_completed

6. Final Result
   └─ successfully_completed [END]
```

### Критические точки проверки

| Операция | Проверяющая роль | Может отклонить | Следующий шаг при отклонении |
|----------|------------------|-----------------|------------------------------|
| **referee_team_approval** | Директор судейства | Да | referee_reassignment |
| **referee_team_confirmation** | Судья | Да | business_trip_plan_reprocessing |
| **primary_business_trip_confirmation** | Сотрудник судейства | Да | business_trip_plan_reprocessing |
| **final_business_trip_confirmation** | Директор судейства | Да | business_trip_plan_reprocessing |
| **primary_protocol_approval** | Сотрудник судейства | Да | protocol_reprocessing |
| **control_protocol_approval** | Директор судейства | Да | protocol_reprocessing |
| **referee_confirmation** (AVR) | Судья | Да | avr_reprocessing |
| **avr_approval_by_committee** | Директор судейства | Да | avr_reprocessing |
| **primary_financial_check** | Экономист финансов | Да | avr_reprocessing |
| **control_financial_check** | Директор финансов | Да | avr_reprocessing |

---

## Ключевые особенности системы

### 1. Многоуровневая система утверждений
- Большинство критических операций требуют утверждения на 2-3 уровнях
- Каждый уровень может отклонить и вернуть на доработку

### 2. Автоматизация переходов
- Система автоматически отслеживает готовность всех участников
- Переход к следующему этапу происходит автоматически при выполнении условий
- Исключает необходимость ручного управления workflow

### 3. Параллельная обработка
- Для каждого судьи создаются отдельные Trip, Protocol, ActOfWork
- Переход на следующий этап возможен только когда готовы ВСЕ записи

### 4. Гибкость отклонения
- На каждом этапе проверки возможно отклонение с комментарием
- После доработки документ возвращается на повторное рассмотрение

### 5. Прозрачность процесса
- Текущая операция матча (`current_operation_id`) всегда показывает актуальное состояние
- История изменений сохраняется через `created_at`, `updated_at`

### 6. Многоязычность
- Все операции имеют названия и описания на 3 языках: RU, KK, EN
- Все справочники и контент поддерживают мультиязычность через суффиксы `_ru`, `_kk`, `_en`

---

## Дополнительная информация

### Связанные таблицы и их назначение:

- **matches** - основная таблица матчей
- **match_judges** - назначенные судьи на матч
- **judge_requirements** - требования к составу судейской бригады
- **match_logists** - логисты, ответственные за организацию
- **trips** - командировки судей
- **trip_hotels** - бронирование отелов
- **trip_migrations** - информация о транспорте и билетах
- **trip_documents** - командировочные документы
- **protocols** - протоколы, заполненные судьями
- **protocol_requirements** - требуемые протоколы для матча
- **act_of_works** - акты выполненных работ
- **act_of_work_services** - услуги в составе АВР (виды работ и стоимость)
- **act_of_payments** - платежи по АВР
- **operations** - справочник всех операций
- **category_operations** - категории операций

### Soft Deletes
Ключевые сущности используют мягкое удаление (`deleted_at`):
- ActOfWork
- Protocol
- MatchEntity
- Trip (через обновления)

### JSON поля
Некоторые таблицы используют JSON для хранения гибких данных:
- `matches.info` - дополнительная информация о матче
- `trips.info` - дополнительная информация о командировке
- `operations.responsible_roles` - массив ролей, ответственных за операцию

---

**Версия документа**: 1.0
**Дата создания**: 2025-10-20
**Автор**: Claude Code Analysis
